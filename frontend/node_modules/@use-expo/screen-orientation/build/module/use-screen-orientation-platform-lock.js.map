{"version":3,"sources":["use-screen-orientation-platform-lock.ts"],"names":["useEffect","useState","ScreenOrientation","useScreenOrientationPlatformLock","platformInfo","platformLock","setPlatformLock","platformLockError","setPlatformLockError","getPlatformOrientationLockAsync","then","lockPlatformAsync","catch","unlockAsync"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,KAAKC,iBAAZ,MAAmC,yBAAnC;AAEA;;;;;;;;;AAQA,OAAO,SAASC,gCAAT,CACNC,YADM,EAKL;AACD,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCL,QAAQ,EAAhD;AACA,QAAM,CAACM,iBAAD,EAAoBC,oBAApB,IAA4CP,QAAQ,EAA1D;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACfE,IAAAA,iBAAiB,CAACO,+BAAlB,GAAoDC,IAApD,CAAyDJ,eAAzD;;AAEA,QAAIF,YAAJ,EAAkB;AACjBF,MAAAA,iBAAiB,CACfS,iBADF,CACoBP,YADpB,EAEEM,IAFF,CAEO,MAAMJ,eAAe,CAACF,YAAD,CAF5B,EAGEQ,KAHF,CAGQJ,oBAHR;AAKA,aAAO,MAAM;AACZN,QAAAA,iBAAiB,CAACW,WAAlB;AACA,OAFD;AAGA;AACD,GAbQ,EAaN,CAACT,YAAD,CAbM,CAAT;AAeA,SAAO,CAACC,YAAD,EAAeE,iBAAf,CAAP;AACA","sourcesContent":["import { useEffect, useState } from 'react';\nimport * as ScreenOrientation from 'expo-screen-orientation'\n\n/**\n * Get or lock the screen orientation on multiple platforms.\n * This hook will always fetch the current platform lock.\n * It will also apply the platform lock when this is provided.\n *\n * @see https://docs.expo.io/versions/latest/sdk/screen-orientation/\n * @example const [lockInfo, lockError] = useScreenOrientationPlatformLock(...);\n */\nexport function useScreenOrientationPlatformLock(\n\tplatformInfo?: ScreenOrientation.PlatformOrientationInfo,\n): [\n\tScreenOrientation.PlatformOrientationInfo | undefined,\n\tError | undefined,\n] {\n\tconst [platformLock, setPlatformLock] = useState<ScreenOrientation.PlatformOrientationInfo>();\n\tconst [platformLockError, setPlatformLockError] = useState<Error>();\n\n\tuseEffect(() => {\n\t\tScreenOrientation.getPlatformOrientationLockAsync().then(setPlatformLock);\n\n\t\tif (platformInfo) {\n\t\t\tScreenOrientation\n\t\t\t\t.lockPlatformAsync(platformInfo)\n\t\t\t\t.then(() => setPlatformLock(platformInfo))\n\t\t\t\t.catch(setPlatformLockError);\n\n\t\t\treturn () => {\n\t\t\t\tScreenOrientation.unlockAsync();\n\t\t\t};\n\t\t}\n\t}, [platformInfo]);\n\n\treturn [platformLock, platformLockError];\n}\n"]}