{"version":3,"sources":["use-screen-orientation-platform-lock.ts"],"names":["useScreenOrientationPlatformLock","platformInfo","platformLock","setPlatformLock","platformLockError","setPlatformLockError","ScreenOrientation","getPlatformOrientationLockAsync","then","lockPlatformAsync","catch","unlockAsync"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA;;;;;;;;AAQO,SAASA,gCAAT,CACNC,YADM,EAKL;AACD,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkC,sBAAxC;AACA,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4C,sBAAlD;AAEA,wBAAU,MAAM;AACfC,IAAAA,iBAAiB,CAACC,+BAAlB,GAAoDC,IAApD,CAAyDL,eAAzD;;AAEA,QAAIF,YAAJ,EAAkB;AACjBK,MAAAA,iBAAiB,CACfG,iBADF,CACoBR,YADpB,EAEEO,IAFF,CAEO,MAAML,eAAe,CAACF,YAAD,CAF5B,EAGES,KAHF,CAGQL,oBAHR;AAKA,aAAO,MAAM;AACZC,QAAAA,iBAAiB,CAACK,WAAlB;AACA,OAFD;AAGA;AACD,GAbD,EAaG,CAACV,YAAD,CAbH;AAeA,SAAO,CAACC,YAAD,EAAeE,iBAAf,CAAP;AACA","sourcesContent":["import { useEffect, useState } from 'react';\nimport * as ScreenOrientation from 'expo-screen-orientation'\n\n/**\n * Get or lock the screen orientation on multiple platforms.\n * This hook will always fetch the current platform lock.\n * It will also apply the platform lock when this is provided.\n *\n * @see https://docs.expo.io/versions/latest/sdk/screen-orientation/\n * @example const [lockInfo, lockError] = useScreenOrientationPlatformLock(...);\n */\nexport function useScreenOrientationPlatformLock(\n\tplatformInfo?: ScreenOrientation.PlatformOrientationInfo,\n): [\n\tScreenOrientation.PlatformOrientationInfo | undefined,\n\tError | undefined,\n] {\n\tconst [platformLock, setPlatformLock] = useState<ScreenOrientation.PlatformOrientationInfo>();\n\tconst [platformLockError, setPlatformLockError] = useState<Error>();\n\n\tuseEffect(() => {\n\t\tScreenOrientation.getPlatformOrientationLockAsync().then(setPlatformLock);\n\n\t\tif (platformInfo) {\n\t\t\tScreenOrientation\n\t\t\t\t.lockPlatformAsync(platformInfo)\n\t\t\t\t.then(() => setPlatformLock(platformInfo))\n\t\t\t\t.catch(setPlatformLockError);\n\n\t\t\treturn () => {\n\t\t\t\tScreenOrientation.unlockAsync();\n\t\t\t};\n\t\t}\n\t}, [platformInfo]);\n\n\treturn [platformLock, platformLockError];\n}\n"]}